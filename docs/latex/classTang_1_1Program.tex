\hypertarget{classTang_1_1Program}{}\doxysection{Tang\+::Program Class Reference}
\label{classTang_1_1Program}\index{Tang::Program@{Tang::Program}}


Represents a compiled script or template that may be executed.  




{\ttfamily \#include $<$program.\+hpp$>$}



Collaboration diagram for Tang\+::Program\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{classTang_1_1Program__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classTang_1_1Program_ad99e214562094e21f38b6a453163041b}{Code\+Type}} \{ \mbox{\hyperlink{classTang_1_1Program_ad99e214562094e21f38b6a453163041ba38b647d35ef85ffa1affec5c7fcb7ac1}{Script}}
, \mbox{\hyperlink{classTang_1_1Program_ad99e214562094e21f38b6a453163041bacfade8685b2abd2b062a2367158ce2f3}{Template}}
 \}
\begin{DoxyCompactList}\small\item\em Indicate the type of code that was supplied to the \mbox{\hyperlink{classTang_1_1Program}{Program}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTang_1_1Program_a4f704a5a0364c6d62330e15d6ee56219}{Program}} (std\+::string code, \mbox{\hyperlink{classTang_1_1Program_ad99e214562094e21f38b6a453163041b}{Code\+Type}} code\+Type)
\begin{DoxyCompactList}\small\item\em Create a compiled program using the provided code. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classTang_1_1Program_a75aff78d6b94472f4d8f93e6f79cfbe0}{get\+Code}} () const
\begin{DoxyCompactList}\small\item\em Get the code that was provided when the \mbox{\hyperlink{classTang_1_1Program}{Program}} was created. \end{DoxyCompactList}\item 
std\+::optional$<$ const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classTang_1_1AstNode}{Ast\+Node}} $>$ $>$ \mbox{\hyperlink{classTang_1_1Program_a2dedf08e5d7f9f92179c4af2eea870ee}{get\+Ast}} () const
\begin{DoxyCompactList}\small\item\em Get the AST that was generated by the parser. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classTang_1_1Program_aee5e79c40fac68e875c0d043f8fc2bc1}{dump\+Bytecode}} () const
\begin{DoxyCompactList}\small\item\em Get the Opcodes of the compiled program, formatted like Assembly. \end{DoxyCompactList}\item 
std\+::optional$<$ const \mbox{\hyperlink{classTang_1_1GarbageCollected}{Garbage\+Collected}} $>$ \mbox{\hyperlink{classTang_1_1Program_a84b2e5e25f57eea224d1c04f1f3741eb}{get\+Result}} () const
\begin{DoxyCompactList}\small\item\em Get the result of the \mbox{\hyperlink{classTang_1_1Program}{Program}} execution, if it exists. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classTang_1_1Program_a1067d000db48378fa37ff569ffdf7329}{add\+Bytecode}} (\mbox{\hyperlink{macros_8hpp_ac3ea9ca53071c2710a6034d60f61d76e}{Tang\+::uinteger\+\_\+t}})
\begin{DoxyCompactList}\small\item\em Add a Tang\+::uinteger\+\_\+t to the Bytecode. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{program_8hpp_a70114beec5ecf129f5367a4107442ca4}{Bytecode}} \& \mbox{\hyperlink{classTang_1_1Program_a742a5415a123a8a0cffa57476f74d55f}{get\+Bytecode}} ()
\begin{DoxyCompactList}\small\item\em Get the Bytecode vector. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classTang_1_1Program}{Program}} \& \mbox{\hyperlink{classTang_1_1Program_a68dc832846a651693dea5770d047d4a6}{execute}} ()
\begin{DoxyCompactList}\small\item\em Execute the program\textquotesingle{}s Bytecode, and return the current \mbox{\hyperlink{classTang_1_1Program}{Program}} object. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classTang_1_1Program_a5da413efe8435cebd927a8be58dcb9be}{set\+Jump\+Target}} (size\+\_\+t opcode\+Address, \mbox{\hyperlink{macros_8hpp_ac3ea9ca53071c2710a6034d60f61d76e}{Tang\+::uinteger\+\_\+t}} jump\+Target)
\begin{DoxyCompactList}\small\item\em Set the target address of a Jump opcode. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTang_1_1Program_a3ed3e014d80138d61d545a3ef5fe0a2e}{push\+Environment}} (const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classTang_1_1AstNode}{Ast\+Node}} $>$ \&ast)
\begin{DoxyCompactList}\small\item\em Create a new compile/execute environment stack entry. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classTang_1_1Program_a655fefae4d0f0bcf92766d8918be89bd}\label{classTang_1_1Program_a655fefae4d0f0bcf92766d8918be89bd}} 
void \mbox{\hyperlink{classTang_1_1Program_a655fefae4d0f0bcf92766d8918be89bd}{pop\+Environment}} ()
\begin{DoxyCompactList}\small\item\em Remove a compile/execute environment stack entry. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTang_1_1Program_ab6ffaae61038ad76502d9fd5c26a69f2}{add\+Identifier}} (const std\+::string \&name, std\+::optional$<$ size\+\_\+t $>$ \mbox{\hyperlink{classTang_1_1position}{position}}=\{\})
\begin{DoxyCompactList}\small\item\em Add an identifier to the environment. \end{DoxyCompactList}\item 
const std\+::map$<$ std\+::string, size\+\_\+t $>$ \& \mbox{\hyperlink{classTang_1_1Program_a788deba60696516b2019081afdead30c}{get\+Identifiers}} () const
\begin{DoxyCompactList}\small\item\em Get the identifier map of the current environment. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTang_1_1Program_a7d778367416fa5697086a89bece76696}{add\+String}} (const std\+::string \&name)
\begin{DoxyCompactList}\small\item\em Add a string to the environment. \end{DoxyCompactList}\item 
const std\+::map$<$ std\+::string, size\+\_\+t $>$ \& \mbox{\hyperlink{classTang_1_1Program_a6d8557e55dd1aeb9f6791c7c84528332}{get\+Strings}} () const
\begin{DoxyCompactList}\small\item\em Get the string map of the current environment. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classTang_1_1Program_a81bee7c0545c053eee44d4381295e193}\label{classTang_1_1Program_a81bee7c0545c053eee44d4381295e193}} 
std\+::string \mbox{\hyperlink{classTang_1_1Program_a81bee7c0545c053eee44d4381295e193}{out}}
\begin{DoxyCompactList}\small\item\em The output of the program, resulting from the program execution. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Represents a compiled script or template that may be executed. 

\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classTang_1_1Program_ad99e214562094e21f38b6a453163041b}\label{classTang_1_1Program_ad99e214562094e21f38b6a453163041b}} 
\index{Tang::Program@{Tang::Program}!CodeType@{CodeType}}
\index{CodeType@{CodeType}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{CodeType}{CodeType}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classTang_1_1Program_ad99e214562094e21f38b6a453163041b}{Tang\+::\+Program\+::\+Code\+Type}}}



Indicate the type of code that was supplied to the \mbox{\hyperlink{classTang_1_1Program}{Program}}. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Script@{Script}!Tang::Program@{Tang::Program}}\index{Tang::Program@{Tang::Program}!Script@{Script}}}\mbox{\Hypertarget{classTang_1_1Program_ad99e214562094e21f38b6a453163041ba38b647d35ef85ffa1affec5c7fcb7ac1}\label{classTang_1_1Program_ad99e214562094e21f38b6a453163041ba38b647d35ef85ffa1affec5c7fcb7ac1}} 
Script&The code is pure Tang script, without any templating. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Template@{Template}!Tang::Program@{Tang::Program}}\index{Tang::Program@{Tang::Program}!Template@{Template}}}\mbox{\Hypertarget{classTang_1_1Program_ad99e214562094e21f38b6a453163041bacfade8685b2abd2b062a2367158ce2f3}\label{classTang_1_1Program_ad99e214562094e21f38b6a453163041bacfade8685b2abd2b062a2367158ce2f3}} 
Template&The code is a template. \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classTang_1_1Program_a4f704a5a0364c6d62330e15d6ee56219}\label{classTang_1_1Program_a4f704a5a0364c6d62330e15d6ee56219}} 
\index{Tang::Program@{Tang::Program}!Program@{Program}}
\index{Program@{Program}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{Program()}{Program()}}
{\footnotesize\ttfamily Program\+::\+Program (\begin{DoxyParamCaption}\item[{std\+::string}]{code,  }\item[{\mbox{\hyperlink{classTang_1_1Program_ad99e214562094e21f38b6a453163041b}{Program\+::\+Code\+Type}}}]{code\+Type }\end{DoxyParamCaption})}



Create a compiled program using the provided code. 


\begin{DoxyParams}{Parameters}
{\em code} & The code to be compiled. \\
\hline
{\em code\+Type} & Whether the code is a {\ttfamily Script} or {\ttfamily Template}. \\
\hline
\end{DoxyParams}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classTang_1_1Program_a1067d000db48378fa37ff569ffdf7329}\label{classTang_1_1Program_a1067d000db48378fa37ff569ffdf7329}} 
\index{Tang::Program@{Tang::Program}!addBytecode@{addBytecode}}
\index{addBytecode@{addBytecode}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{addBytecode()}{addBytecode()}}
{\footnotesize\ttfamily size\+\_\+t Program\+::add\+Bytecode (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{macros_8hpp_ac3ea9ca53071c2710a6034d60f61d76e}{Tang\+::uinteger\+\_\+t}}}]{op }\end{DoxyParamCaption})}



Add a Tang\+::uinteger\+\_\+t to the Bytecode. 


\begin{DoxyParams}{Parameters}
{\em op} & The value to add to the Bytecode. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The size of the bytecode structure. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_ab6ffaae61038ad76502d9fd5c26a69f2}\label{classTang_1_1Program_ab6ffaae61038ad76502d9fd5c26a69f2}} 
\index{Tang::Program@{Tang::Program}!addIdentifier@{addIdentifier}}
\index{addIdentifier@{addIdentifier}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{addIdentifier()}{addIdentifier()}}
{\footnotesize\ttfamily void Program\+::add\+Identifier (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name,  }\item[{std\+::optional$<$ size\+\_\+t $>$}]{position = {\ttfamily \{\}} }\end{DoxyParamCaption})}



Add an identifier to the environment. 


\begin{DoxyParams}{Parameters}
{\em name} & The variable to add to the environment. \\
\hline
{\em position} & If provided, the desired position to place the identifier. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classTang_1_1Program_a7d778367416fa5697086a89bece76696}\label{classTang_1_1Program_a7d778367416fa5697086a89bece76696}} 
\index{Tang::Program@{Tang::Program}!addString@{addString}}
\index{addString@{addString}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{addString()}{addString()}}
{\footnotesize\ttfamily void Program\+::add\+String (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{name }\end{DoxyParamCaption})}



Add a string to the environment. 


\begin{DoxyParams}{Parameters}
{\em name} & The variable to add to the environment. \\
\hline
{\em position} & If provided, the desired position to place the identifier. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classTang_1_1Program_aee5e79c40fac68e875c0d043f8fc2bc1}\label{classTang_1_1Program_aee5e79c40fac68e875c0d043f8fc2bc1}} 
\index{Tang::Program@{Tang::Program}!dumpBytecode@{dumpBytecode}}
\index{dumpBytecode@{dumpBytecode}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{dumpBytecode()}{dumpBytecode()}}
{\footnotesize\ttfamily string Program\+::dump\+Bytecode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the Opcodes of the compiled program, formatted like Assembly. 

\begin{DoxyReturn}{Returns}
A string containing the Opcode representation. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a68dc832846a651693dea5770d047d4a6}\label{classTang_1_1Program_a68dc832846a651693dea5770d047d4a6}} 
\index{Tang::Program@{Tang::Program}!execute@{execute}}
\index{execute@{execute}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{execute()}{execute()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTang_1_1Program}{Program}} \& Program\+::execute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Execute the program\textquotesingle{}s Bytecode, and return the current \mbox{\hyperlink{classTang_1_1Program}{Program}} object. 

\begin{DoxyReturn}{Returns}
The current \mbox{\hyperlink{classTang_1_1Program}{Program}} object. 
\end{DoxyReturn}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTang_1_1Program_a68dc832846a651693dea5770d047d4a6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classTang_1_1Program_a2dedf08e5d7f9f92179c4af2eea870ee}\label{classTang_1_1Program_a2dedf08e5d7f9f92179c4af2eea870ee}} 
\index{Tang::Program@{Tang::Program}!getAst@{getAst}}
\index{getAst@{getAst}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{getAst()}{getAst()}}
{\footnotesize\ttfamily optional$<$ const shared\+\_\+ptr$<$ \mbox{\hyperlink{classTang_1_1AstNode}{Ast\+Node}} $>$ $>$ Program\+::get\+Ast (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the AST that was generated by the parser. 

The parser may have failed, so the return is an {\ttfamily optional$<$$>$} type. If the compilation failed, check Program\+::error.

\begin{DoxyReturn}{Returns}
A pointer to the AST, if it exists. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a742a5415a123a8a0cffa57476f74d55f}\label{classTang_1_1Program_a742a5415a123a8a0cffa57476f74d55f}} 
\index{Tang::Program@{Tang::Program}!getBytecode@{getBytecode}}
\index{getBytecode@{getBytecode}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{getBytecode()}{getBytecode()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{program_8hpp_a70114beec5ecf129f5367a4107442ca4}{Bytecode}} \& Program\+::get\+Bytecode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get the Bytecode vector. 

\begin{DoxyReturn}{Returns}
The Bytecode vector. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a75aff78d6b94472f4d8f93e6f79cfbe0}\label{classTang_1_1Program_a75aff78d6b94472f4d8f93e6f79cfbe0}} 
\index{Tang::Program@{Tang::Program}!getCode@{getCode}}
\index{getCode@{getCode}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{getCode()}{getCode()}}
{\footnotesize\ttfamily string Program\+::get\+Code (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the code that was provided when the \mbox{\hyperlink{classTang_1_1Program}{Program}} was created. 

\begin{DoxyReturn}{Returns}
The source code from which the \mbox{\hyperlink{classTang_1_1Program}{Program}} was created. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a788deba60696516b2019081afdead30c}\label{classTang_1_1Program_a788deba60696516b2019081afdead30c}} 
\index{Tang::Program@{Tang::Program}!getIdentifiers@{getIdentifiers}}
\index{getIdentifiers@{getIdentifiers}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{getIdentifiers()}{getIdentifiers()}}
{\footnotesize\ttfamily const map$<$ string, size\+\_\+t $>$ \& Program\+::get\+Identifiers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the identifier map of the current environment. 

\begin{DoxyReturn}{Returns}
A map of each identifer name to its stack position within the current environment. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a84b2e5e25f57eea224d1c04f1f3741eb}\label{classTang_1_1Program_a84b2e5e25f57eea224d1c04f1f3741eb}} 
\index{Tang::Program@{Tang::Program}!getResult@{getResult}}
\index{getResult@{getResult}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{getResult()}{getResult()}}
{\footnotesize\ttfamily optional$<$ const \mbox{\hyperlink{classTang_1_1GarbageCollected}{Garbage\+Collected}} $>$ Program\+::get\+Result (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the result of the \mbox{\hyperlink{classTang_1_1Program}{Program}} execution, if it exists. 

\begin{DoxyReturn}{Returns}
The result of the \mbox{\hyperlink{classTang_1_1Program}{Program}} execution, if it exists. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a6d8557e55dd1aeb9f6791c7c84528332}\label{classTang_1_1Program_a6d8557e55dd1aeb9f6791c7c84528332}} 
\index{Tang::Program@{Tang::Program}!getStrings@{getStrings}}
\index{getStrings@{getStrings}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{getStrings()}{getStrings()}}
{\footnotesize\ttfamily const map$<$ string, size\+\_\+t $>$ \& Program\+::get\+Strings (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Get the string map of the current environment. 

\begin{DoxyReturn}{Returns}
A map of each identifer name to its stack position within the current environment. 
\end{DoxyReturn}
\mbox{\Hypertarget{classTang_1_1Program_a3ed3e014d80138d61d545a3ef5fe0a2e}\label{classTang_1_1Program_a3ed3e014d80138d61d545a3ef5fe0a2e}} 
\index{Tang::Program@{Tang::Program}!pushEnvironment@{pushEnvironment}}
\index{pushEnvironment@{pushEnvironment}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{pushEnvironment()}{pushEnvironment()}}
{\footnotesize\ttfamily void Program\+::push\+Environment (\begin{DoxyParamCaption}\item[{const std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classTang_1_1AstNode}{Ast\+Node}} $>$ \&}]{ast }\end{DoxyParamCaption})}



Create a new compile/execute environment stack entry. 


\begin{DoxyParams}{Parameters}
{\em ast} & The ast node from which this new environment will be formed. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classTang_1_1Program_a5da413efe8435cebd927a8be58dcb9be}\label{classTang_1_1Program_a5da413efe8435cebd927a8be58dcb9be}} 
\index{Tang::Program@{Tang::Program}!setJumpTarget@{setJumpTarget}}
\index{setJumpTarget@{setJumpTarget}!Tang::Program@{Tang::Program}}
\doxysubsubsection{\texorpdfstring{setJumpTarget()}{setJumpTarget()}}
{\footnotesize\ttfamily bool Program\+::set\+Jump\+Target (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{opcode\+Address,  }\item[{\mbox{\hyperlink{macros_8hpp_ac3ea9ca53071c2710a6034d60f61d76e}{Tang\+::uinteger\+\_\+t}}}]{jump\+Target }\end{DoxyParamCaption})}



Set the target address of a Jump opcode. 


\begin{DoxyParams}{Parameters}
{\em opcode\+Address} & The location of the jump statement. \\
\hline
{\em jump\+Target} & The address to jump to. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Whether or not the jump\+Target was set. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/\mbox{\hyperlink{program_8hpp}{program.\+hpp}}\item 
src/\mbox{\hyperlink{program-dumpBytecode_8cpp}{program-\/dump\+Bytecode.\+cpp}}\item 
src/\mbox{\hyperlink{program-execute_8cpp}{program-\/execute.\+cpp}}\item 
src/\mbox{\hyperlink{program_8cpp}{program.\+cpp}}\end{DoxyCompactItemize}
