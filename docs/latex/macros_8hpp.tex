\hypertarget{macros_8hpp}{}\doxysection{include/macros.hpp File Reference}
\label{macros_8hpp}\index{include/macros.hpp@{include/macros.hpp}}


Contains generic macros.  


{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$unordered\+\_\+map$>$}\newline
{\ttfamily \#include $<$map$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$any$>$}\newline
Include dependency graph for macros.\+hpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{macros_8hpp__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{macros_8hpp__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{macros_8hpp_a5c90efafe29eff1c7ccaa416e6e918fc}\label{macros_8hpp_a5c90efafe29eff1c7ccaa416e6e918fc}} 
\#define {\bfseries TANGVERSION}~\char`\"{}0.\+0.\+0 alpha\char`\"{}
\item 
\#define {\bfseries OPCODE\+\_\+\+FIND\+\_\+\+INDEX}(EXPRESSION,  INDEX)
\item 
\#define {\bfseries UNARYOP}(OPERAND,  OP\+\_\+S,  OP\+\_\+I)
\item 
\#define {\bfseries BINARYOP}(LHS,  RHS,  OP\+\_\+\+SS,  OP\+\_\+\+SI,  OP\+\_\+\+IS,  OP\+\_\+\+II)
\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{macros_8hpp_a48da4f54f29ec5b8a4dfd1a9234f7ee8}\label{macros_8hpp_a48da4f54f29ec5b8a4dfd1a9234f7ee8}} 
using \mbox{\hyperlink{macros_8hpp_a48da4f54f29ec5b8a4dfd1a9234f7ee8}{Tang\+::integer\+\_\+t}} = int32\+\_\+t
\begin{DoxyCompactList}\small\item\em Define the size of signed integers used by Tang. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_a361122436ab50159be865d93fb80b527}\label{macros_8hpp_a361122436ab50159be865d93fb80b527}} 
using \mbox{\hyperlink{macros_8hpp_a361122436ab50159be865d93fb80b527}{Tang\+::uinteger\+\_\+t}} = uint32\+\_\+t
\begin{DoxyCompactList}\small\item\em Define the size of integers used by Tang. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_a5fab10267a7a4379e7d3642508736ab8}\label{macros_8hpp_a5fab10267a7a4379e7d3642508736ab8}} 
using \mbox{\hyperlink{macros_8hpp_a5fab10267a7a4379e7d3642508736ab8}{Tang\+::float\+\_\+t}} = float
\begin{DoxyCompactList}\small\item\em Define the size of floats used by Tang. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_ae12842cdf29eb1486164a0a74a84477f}\label{macros_8hpp_ae12842cdf29eb1486164a0a74a84477f}} 
using \mbox{\hyperlink{macros_8hpp_ae12842cdf29eb1486164a0a74a84477f}{Tang\+::\+Library\+Function}} = Garbage\+Collected($\ast$)(Context \&)
\begin{DoxyCompactList}\small\item\em A function pointer that will be executed. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_aece6c429435b04c80842278ae26dcc57}\label{macros_8hpp_aece6c429435b04c80842278ae26dcc57}} 
using \mbox{\hyperlink{macros_8hpp_aece6c429435b04c80842278ae26dcc57}{Tang\+::\+Native\+Function}} = Garbage\+Collected($\ast$)(std\+::vector$<$ Garbage\+Collected $>$ \&, Context \&)
\begin{DoxyCompactList}\small\item\em A function pointer that will be executed as bound to an object. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_a7c18603d0e934d5f83ec840355893411}\label{macros_8hpp_a7c18603d0e934d5f83ec840355893411}} 
using \mbox{\hyperlink{macros_8hpp_a7c18603d0e934d5f83ec840355893411}{Tang\+::\+Native\+Bound\+Function}} = Garbage\+Collected($\ast$)(Garbage\+Collected \&, std\+::vector$<$ Garbage\+Collected $>$ \&)
\begin{DoxyCompactList}\small\item\em A function pointer that will be executed as bound to an object. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_a497b271a17e2d6f921ae341266ada023}\label{macros_8hpp_a497b271a17e2d6f921ae341266ada023}} 
using \mbox{\hyperlink{macros_8hpp_a497b271a17e2d6f921ae341266ada023}{Tang\+::\+Library\+Function\+Map}} = std\+::map$<$ std\+::string, Library\+Function $>$
\begin{DoxyCompactList}\small\item\em A map of method names to Library\+Function objects. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_a6d1db65473ddfd8c22fd26b1d65bc530}\label{macros_8hpp_a6d1db65473ddfd8c22fd26b1d65bc530}} 
using \mbox{\hyperlink{macros_8hpp_a6d1db65473ddfd8c22fd26b1d65bc530}{Tang\+::\+Native\+Bound\+Function\+Map}} = std\+::map$<$ std\+::string, std\+::pair$<$ size\+\_\+t, Native\+Bound\+Function $>$ $>$
\begin{DoxyCompactList}\small\item\em A map of method names to Native\+Bound\+Function objects. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{macros_8hpp_a7f5af272721648f0b4a33770e915ecfc}\label{macros_8hpp_a7f5af272721648f0b4a33770e915ecfc}} 
using \mbox{\hyperlink{macros_8hpp_a7f5af272721648f0b4a33770e915ecfc}{Tang\+::\+Context\+Data}} = std\+::unordered\+\_\+map$<$ std\+::string, std\+::any $>$
\begin{DoxyCompactList}\small\item\em Used to hold arbitrary data which should be made available to a program during the program execution. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains generic macros. 



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{macros_8hpp_ace648ece9649f3e80febbb8ee40b8ab5}\label{macros_8hpp_ace648ece9649f3e80febbb8ee40b8ab5}} 
\index{macros.hpp@{macros.hpp}!BINARYOP@{BINARYOP}}
\index{BINARYOP@{BINARYOP}!macros.hpp@{macros.hpp}}
\doxysubsubsection{\texorpdfstring{BINARYOP}{BINARYOP}}
{\footnotesize\ttfamily \#define BINARYOP(\begin{DoxyParamCaption}\item[{}]{LHS,  }\item[{}]{RHS,  }\item[{}]{OP\+\_\+\+SS,  }\item[{}]{OP\+\_\+\+SI,  }\item[{}]{OP\+\_\+\+IS,  }\item[{}]{OP\+\_\+\+II }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \mbox{\hyperlink{macros_8hpp_a48da4f54f29ec5b8a4dfd1a9234f7ee8}{integer\_t}} lhsIndex\{-\/1\}, rhsIndex\{-\/1\}; \(\backslash\)}
\DoxyCodeLine{  OPCODE\_FIND\_INDEX((LHS), lhsIndex); \(\backslash\)}
\DoxyCodeLine{  OPCODE\_FIND\_INDEX((RHS), rhsIndex); \(\backslash\)}
\DoxyCodeLine{  if (lhsIndex >= 0) \{ \(\backslash\)}
\DoxyCodeLine{    if (rhsIndex >= 0) \{ \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)Opcode:: OP\_II); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)lhsIndex); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)rhsIndex); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{    else \{ \(\backslash\)}
\DoxyCodeLine{      (RHS)-\/>compile(program); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)Opcode:: OP\_IS); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)lhsIndex); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{  \} \(\backslash\)}
\DoxyCodeLine{  else \{ \(\backslash\)}
\DoxyCodeLine{    if (rhsIndex >= 0) \{ \(\backslash\)}
\DoxyCodeLine{      (LHS)-\/>compile(program); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)Opcode:: OP\_SI); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)rhsIndex); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{    else \{ \(\backslash\)}
\DoxyCodeLine{      (LHS)-\/>compile(program); \(\backslash\)}
\DoxyCodeLine{      (RHS)-\/>compile(program); \(\backslash\)}
\DoxyCodeLine{      program.addBytecode((uinteger\_t)Opcode:: OP\_SS); \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
\mbox{\Hypertarget{macros_8hpp_a1e79d04d95f48569f5f937532817a5f7}\label{macros_8hpp_a1e79d04d95f48569f5f937532817a5f7}} 
\index{macros.hpp@{macros.hpp}!OPCODE\_FIND\_INDEX@{OPCODE\_FIND\_INDEX}}
\index{OPCODE\_FIND\_INDEX@{OPCODE\_FIND\_INDEX}!macros.hpp@{macros.hpp}}
\doxysubsubsection{\texorpdfstring{OPCODE\_FIND\_INDEX}{OPCODE\_FIND\_INDEX}}
{\footnotesize\ttfamily \#define OPCODE\+\_\+\+FIND\+\_\+\+INDEX(\begin{DoxyParamCaption}\item[{}]{EXPRESSION,  }\item[{}]{INDEX }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \{\(\backslash\)}
\DoxyCodeLine{    auto \& identifier = program.getIdentifiers(); \(\backslash\)}
\DoxyCodeLine{    if (\textcolor{keyword}{typeid}(*(EXPRESSION)) == \textcolor{keyword}{typeid}(AstNodeIdentifier)) \{ \(\backslash\)}
\DoxyCodeLine{      auto \& name = \textcolor{keyword}{static\_cast<}AstNodeIdentifier \&\textcolor{keyword}{>}(*(EXPRESSION)).name; \(\backslash\)}
\DoxyCodeLine{      if (identifier.count(name)) \{ \(\backslash\)}
\DoxyCodeLine{        INDEX = identifier.at(name); \(\backslash\)}
\DoxyCodeLine{      \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{    else \textcolor{keywordflow}{if} (\textcolor{keyword}{typeid}(*(EXPRESSION)) == \textcolor{keyword}{typeid}(AstNodeString)) \{ \(\backslash\)}
\DoxyCodeLine{      auto \& strings = program.getStrings(); \(\backslash\)}
\DoxyCodeLine{      auto \& stringConv = \textcolor{keyword}{static\_cast<}AstNodeString \&\textcolor{keyword}{>}(*(EXPRESSION)); \(\backslash\)}
\DoxyCodeLine{      auto \& val = stringConv.getVal(); \(\backslash\)}
\DoxyCodeLine{      auto \& type = stringConv.getType(); \(\backslash\)}
\DoxyCodeLine{      if (strings.count(\{val, type\})) \{ \(\backslash\)}
\DoxyCodeLine{        INDEX = strings.at(\{val, type\}) + program.getIdentifiers().size(); \(\backslash\)}
\DoxyCodeLine{      \} \(\backslash\)}
\DoxyCodeLine{    \} \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
\mbox{\Hypertarget{macros_8hpp_ace2c366b0eed807a5acc89bd58778c9c}\label{macros_8hpp_ace2c366b0eed807a5acc89bd58778c9c}} 
\index{macros.hpp@{macros.hpp}!UNARYOP@{UNARYOP}}
\index{UNARYOP@{UNARYOP}!macros.hpp@{macros.hpp}}
\doxysubsubsection{\texorpdfstring{UNARYOP}{UNARYOP}}
{\footnotesize\ttfamily \#define UNARYOP(\begin{DoxyParamCaption}\item[{}]{OPERAND,  }\item[{}]{OP\+\_\+S,  }\item[{}]{OP\+\_\+I }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \mbox{\hyperlink{macros_8hpp_a48da4f54f29ec5b8a4dfd1a9234f7ee8}{integer\_t}} index\{-\/1\}; \(\backslash\)}
\DoxyCodeLine{  OPCODE\_FIND\_INDEX((OPERAND), index); \(\backslash\)}
\DoxyCodeLine{  if (index >= 0) \{ \(\backslash\)}
\DoxyCodeLine{    program.addBytecode((uinteger\_t)Opcode:: OP\_I); \(\backslash\)}
\DoxyCodeLine{    program.addBytecode((uinteger\_t)index); \(\backslash\)}
\DoxyCodeLine{  \} \(\backslash\)}
\DoxyCodeLine{  else \{ \(\backslash\)}
\DoxyCodeLine{    (OPERAND)-\/>compile(program); \(\backslash\)}
\DoxyCodeLine{    program.addBytecode((uinteger\_t)Opcode:: OP\_S); \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}
