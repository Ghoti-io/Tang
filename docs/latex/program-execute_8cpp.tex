\hypertarget{program-execute_8cpp}{}\doxysection{src/program-\/execute.cpp File Reference}
\label{program-execute_8cpp}\index{src/program-\/execute.cpp@{src/program-\/execute.cpp}}


Define the \mbox{\hyperlink{classTang_1_1Program_a3449ae0f592e7eaa2cf05244839daa83}{Tang\+::\+Program\+::execute}} method.  


{\ttfamily \#include $<$bit$>$}\newline
{\ttfamily \#include $<$cmath$>$}\newline
{\ttfamily \#include \char`\"{}program.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}context.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}opcode.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Error.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Integer.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Float.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Boolean.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+String.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Array.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Library.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Map.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Compiled\+Function.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Native\+Bound\+Function.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Native\+Library\+Function.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Native\+Function.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}computed\+Expression\+Iterator\+End.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}tang\+Base.\+hpp\char`\"{}}\newline
Include dependency graph for program-\/execute.cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{program-execute_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(x)
\begin{DoxyCompactList}\small\item\em Verify the size of the Bytecode vector so that it may be safely accessed. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}{STACKCHECK}}(x)
\begin{DoxyCompactList}\small\item\em Verify the size of the stack vector so that it may be safely accessed. \end{DoxyCompactList}\item 
\#define {\bfseries PRINTOP\+\_\+S}
\item 
\#define {\bfseries PRINTOP\+\_\+I}
\item 
\#define {\bfseries CASTOP\+\_\+S}
\item 
\#define {\bfseries CASTOP\+\_\+I}
\item 
\#define {\bfseries UNARYOP\+\_\+S}
\item 
\#define {\bfseries UNARYOP\+\_\+I}
\item 
\#define {\bfseries BINARYOP\+\_\+\+SS}(EXPRESSION)
\item 
\#define {\bfseries BINARYOP\+\_\+\+SI}(EXPRESSION)
\item 
\#define {\bfseries BINARYOP\+\_\+\+IS}(EXPRESSION)
\item 
\#define {\bfseries BINARYOP\+\_\+\+II}(EXPRESSION)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Define the \mbox{\hyperlink{classTang_1_1Program_a3449ae0f592e7eaa2cf05244839daa83}{Tang\+::\+Program\+::execute}} method. 



\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{program-execute_8cpp_a4c8ed56b3d79a2ce0d152ad89eabc659}\label{program-execute_8cpp_a4c8ed56b3d79a2ce0d152ad89eabc659}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!BINARYOP\_II@{BINARYOP\_II}}
\index{BINARYOP\_II@{BINARYOP\_II}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{BINARYOP\_II}{BINARYOP\_II}}
{\footnotesize\ttfamily \#define BINARYOP\+\_\+\+II(\begin{DoxyParamCaption}\item[{}]{EXPRESSION }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(2); \(\backslash\)}
\DoxyCodeLine{        auto lhsIndex = this-\/>bytecode[pc + 1]; \(\backslash\)}
\DoxyCodeLine{        auto rhsIndex = this-\/>bytecode[pc + 2]; \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(lhsIndex); \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(rhsIndex); \(\backslash\)}
\DoxyCodeLine{        auto \& lhs = stack[fp + lhsIndex]; \(\backslash\)}
\DoxyCodeLine{        auto \& rhs = stack[fp + rhsIndex]; \(\backslash\)}
\DoxyCodeLine{        stack.emplace\_back(EXPRESSION); \(\backslash\)}
\DoxyCodeLine{        pc += 3;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a7eff6d91569bef15306f8a8065bb8904}\label{program-execute_8cpp_a7eff6d91569bef15306f8a8065bb8904}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!BINARYOP\_IS@{BINARYOP\_IS}}
\index{BINARYOP\_IS@{BINARYOP\_IS}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{BINARYOP\_IS}{BINARYOP\_IS}}
{\footnotesize\ttfamily \#define BINARYOP\+\_\+\+IS(\begin{DoxyParamCaption}\item[{}]{EXPRESSION }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto lhsIndex = this-\/>bytecode[pc + 1]; \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(lhsIndex); \(\backslash\)}
\DoxyCodeLine{        auto \& rhs = stack.back(); \(\backslash\)}
\DoxyCodeLine{        auto \& lhs = stack[fp + lhsIndex]; \(\backslash\)}
\DoxyCodeLine{        stack.back() = (EXPRESSION); \(\backslash\)}
\DoxyCodeLine{        pc += 2;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a2f53316cb83aec3c419de7f8dec43b6f}\label{program-execute_8cpp_a2f53316cb83aec3c419de7f8dec43b6f}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!BINARYOP\_SI@{BINARYOP\_SI}}
\index{BINARYOP\_SI@{BINARYOP\_SI}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{BINARYOP\_SI}{BINARYOP\_SI}}
{\footnotesize\ttfamily \#define BINARYOP\+\_\+\+SI(\begin{DoxyParamCaption}\item[{}]{EXPRESSION }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto rhsIndex = this-\/>bytecode[pc + 1]; \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(rhsIndex); \(\backslash\)}
\DoxyCodeLine{        auto \& rhs = stack[fp + rhsIndex]; \(\backslash\)}
\DoxyCodeLine{        auto \& lhs = stack.back(); \(\backslash\)}
\DoxyCodeLine{        stack.back() = (EXPRESSION); \(\backslash\)}
\DoxyCodeLine{        pc += 2;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_aef2846e8b21d4b7e111b2a3d86a75675}\label{program-execute_8cpp_aef2846e8b21d4b7e111b2a3d86a75675}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!BINARYOP\_SS@{BINARYOP\_SS}}
\index{BINARYOP\_SS@{BINARYOP\_SS}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{BINARYOP\_SS}{BINARYOP\_SS}}
{\footnotesize\ttfamily \#define BINARYOP\+\_\+\+SS(\begin{DoxyParamCaption}\item[{}]{EXPRESSION }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}{STACKCHECK}}(2); \(\backslash\)}
\DoxyCodeLine{        auto top = stack.size(); \(\backslash\)}
\DoxyCodeLine{        auto \& rhs = stack[top -\/ 1]; \(\backslash\)}
\DoxyCodeLine{        auto \& lhs = stack[top -\/ 2]; \(\backslash\)}
\DoxyCodeLine{        stack[top -\/ 2] = (EXPRESSION); \(\backslash\)}
\DoxyCodeLine{        stack.pop\_back(); \(\backslash\)}
\DoxyCodeLine{        ++pc;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a45f1dc1dd6b0559489c8f5bbbebd477a}\label{program-execute_8cpp_a45f1dc1dd6b0559489c8f5bbbebd477a}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!CASTOP\_I@{CASTOP\_I}}
\index{CASTOP\_I@{CASTOP\_I}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{CASTOP\_I}{CASTOP\_I}}
{\footnotesize\ttfamily \#define CASTOP\+\_\+I}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto index = this-\/>bytecode[pc + 1]; \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(index); \(\backslash\)}
\DoxyCodeLine{        auto \& operand = stack[fp + index]; \(\backslash\)}
\DoxyCodeLine{        pc += 2;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a0dcde88dabdc927ee94e2b87e126b601}\label{program-execute_8cpp_a0dcde88dabdc927ee94e2b87e126b601}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!CASTOP\_S@{CASTOP\_S}}
\index{CASTOP\_S@{CASTOP\_S}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{CASTOP\_S}{CASTOP\_S}}
{\footnotesize\ttfamily \#define CASTOP\+\_\+S}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}{STACKCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto operand = stack.back(); \(\backslash\)}
\DoxyCodeLine{        stack.pop\_back(); \(\backslash\)}
\DoxyCodeLine{        ++pc;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}\label{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!EXECUTEPROGRAMCHECK@{EXECUTEPROGRAMCHECK}}
\index{EXECUTEPROGRAMCHECK@{EXECUTEPROGRAMCHECK}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{EXECUTEPROGRAMCHECK}{EXECUTEPROGRAMCHECK}}
{\footnotesize\ttfamily \#define EXECUTEPROGRAMCHECK(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (this-\/>bytecode.size() < (pc + (x))) \{ \(\backslash\)}
\DoxyCodeLine{    stack.push\_back(GarbageCollected::make<ComputedExpressionError>(\mbox{\hyperlink{classTang_1_1Error}{Error}}\{\textcolor{stringliteral}{"{}Opcode instruction truncated."{}}\})); \(\backslash\)}
\DoxyCodeLine{    pc = this-\/>bytecode.size(); \(\backslash\)}
\DoxyCodeLine{    break; \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Verify the size of the Bytecode vector so that it may be safely accessed. 


\begin{DoxyParams}{Parameters}
{\em x} & The number of additional vector entries that should exist. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{program-execute_8cpp_af3e0ec92f0f35491f0cf6da42c7e9c2e}\label{program-execute_8cpp_af3e0ec92f0f35491f0cf6da42c7e9c2e}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!PRINTOP\_I@{PRINTOP\_I}}
\index{PRINTOP\_I@{PRINTOP\_I}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{PRINTOP\_I}{PRINTOP\_I}}
{\footnotesize\ttfamily \#define PRINTOP\+\_\+I}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto index = this-\/>bytecode[pc + 1]; \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(index); \(\backslash\)}
\DoxyCodeLine{        auto \& expression = stack[fp + index]; \(\backslash\)}
\DoxyCodeLine{        pc += 2;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a8168f8cf60dba68fbfc09767912d9c5d}\label{program-execute_8cpp_a8168f8cf60dba68fbfc09767912d9c5d}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!PRINTOP\_S@{PRINTOP\_S}}
\index{PRINTOP\_S@{PRINTOP\_S}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{PRINTOP\_S}{PRINTOP\_S}}
{\footnotesize\ttfamily \#define PRINTOP\+\_\+S}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}{STACKCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto expression = stack.back(); \(\backslash\)}
\DoxyCodeLine{        stack.pop\_back(); \(\backslash\)}
\DoxyCodeLine{        ++pc;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}\label{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!STACKCHECK@{STACKCHECK}}
\index{STACKCHECK@{STACKCHECK}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{STACKCHECK}{STACKCHECK}}
{\footnotesize\ttfamily \#define STACKCHECK(\begin{DoxyParamCaption}\item[{}]{x }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{  \textcolor{keywordflow}{if} (stack.size() < (fp + (x))) \{ \(\backslash\)}
\DoxyCodeLine{    stack.push\_back(GarbageCollected::make<ComputedExpressionError>(\mbox{\hyperlink{classTang_1_1Error}{Error}}\{\textcolor{stringliteral}{"{}Insufficient stack depth."{}}\})); \(\backslash\)}
\DoxyCodeLine{    pc = this-\/>bytecode.size(); \(\backslash\)}
\DoxyCodeLine{    break; \(\backslash\)}
\DoxyCodeLine{  \}}

\end{DoxyCode}


Verify the size of the stack vector so that it may be safely accessed. 


\begin{DoxyParams}{Parameters}
{\em x} & The number of entries that should exist in the stack. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{program-execute_8cpp_a1b5620ea1419a9c0d5f591b1864f7cdf}\label{program-execute_8cpp_a1b5620ea1419a9c0d5f591b1864f7cdf}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!UNARYOP\_I@{UNARYOP\_I}}
\index{UNARYOP\_I@{UNARYOP\_I}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{UNARYOP\_I}{UNARYOP\_I}}
{\footnotesize\ttfamily \#define UNARYOP\+\_\+I}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a9ded9c6308c1d34a5872db3199e9c973}{EXECUTEPROGRAMCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto index = this-\/>bytecode[pc + 1]; \(\backslash\)}
\DoxyCodeLine{        STACKCHECK(index); \(\backslash\)}
\DoxyCodeLine{        auto \& operand = stack[fp + index]; \(\backslash\)}
\DoxyCodeLine{        pc += 2;}

\end{DoxyCode}
\mbox{\Hypertarget{program-execute_8cpp_ae88fd9e812fda386f717d6d69f177959}\label{program-execute_8cpp_ae88fd9e812fda386f717d6d69f177959}} 
\index{program-\/execute.cpp@{program-\/execute.cpp}!UNARYOP\_S@{UNARYOP\_S}}
\index{UNARYOP\_S@{UNARYOP\_S}!program-\/execute.cpp@{program-\/execute.cpp}}
\doxysubsubsection{\texorpdfstring{UNARYOP\_S}{UNARYOP\_S}}
{\footnotesize\ttfamily \#define UNARYOP\+\_\+S}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{        \mbox{\hyperlink{program-execute_8cpp_a80c4bdcb0e9c9c0eebdb1488ad68aa38}{STACKCHECK}}(1); \(\backslash\)}
\DoxyCodeLine{        auto operand = stack.back(); \(\backslash\)}
\DoxyCodeLine{        stack.pop\_back(); \(\backslash\)}
\DoxyCodeLine{        ++pc;}

\end{DoxyCode}
